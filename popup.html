<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Audit Panel</title>
    <script src="https://unpkg.com/jquery"></script>
    <script src="https://unpkg.com/underscore"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link href="popup.css" rel="stylesheet">
</head>

<body>
    <div class="task">

        <div class="task-info">
            <div class="task-name">
                Task <span class="task-id"></span>
            </div>
            <div class="task-time">
                --
            </div>
        </div>

        <div class="market-info">
            <div class="market-name">--</div>
            <div class="product-link">
                <a id="link" href=""></a>
            </div>
        </div>

        <div class="processed-info">
            <div class="header">
                <div class="h">Processed</div>
                <div class="id">#</div>
            </div>
            <div class="processed-name">
                --
            </div>
        </div>

        <div class="lettproduct-info">
            <div class="header">
                <div class="h">Lett Product</div>
                <div class="id">#</div>
            </div>
            <div class="lett-name">
                --
            </div>
        </div>


        <div class="category">
            ? > ? > ?
        </div>


    </div>
    <div class="audit-items">

        <div class="audit-item" name="avaliability">
            <div class="audit-attr">
                Disponibilidade
            </div>
            <div class="audit-action">
                <button name="bad" class="">
                    <i class="glyphicon glyphicon-remove"></i>
                </button>
                <button name="ok" class="">
                    <i class="glyphicon glyphicon-ok"></i>
                </button>
            </div>
            <div class="audit-value">
                ?
            </div>
        </div>

        <div class="audit-item" name="name">
            <div class="audit-attr">
                Nome
            </div>
            <div class="audit-action">
                <button name="bad" class="">
                    <i class="glyphicon glyphicon-remove"></i>
                </button>
                <button name="ok" class="">
                    <i class="glyphicon glyphicon-ok"></i>
                </button>
            </div>
            <div class="audit-value">
                --
            </div>
        </div>

        <div class="audit-item">
            <div class="audit-attr">
                Formas de Pagamento (Loja Própria)
            </div>
            <div class="audit-action">
                <button name="bad" class="">
                    <i class="glyphicon glyphicon-remove"></i>
                </button>
                <button name="ok" class="">
                    <i class="glyphicon glyphicon-ok"></i>
                </button>
            </div>
            <div class="audit-value">

                <div class="pay">
                    <div>Boleto Bancário À Vista</div>
                    <div>2349.99</div>
                </div>

                <div class="pay">
                    <div>amex</div>
                    <div>
                        <li>1x de 1000,00</li>
                        <li>2x de 500,00</li>
                        <li>3x de 333,33</li>
                        <li>4x de 250,00</li>
                        <li>5x de 200,00</li>
                        <li>6x de 166,66</li>
                        <li>7x de 142,85</li>
                        <li>8x de 125,00</li>
                        <li>9x de 111.11</li>
                        <li>10x de 100.00</li>
                        <li>11x de 90,90</li>
                        <li>12x de 83,34</li>
                    </div>
                </div>

                <div class="pay">
                    <div>diners</div>
                    <div>
                        <li>1x de 1000,00</li>
                        <li>2x de 500,00</li>
                        <li>3x de 333,33</li>
                        <li>4x de 250,00</li>
                        <li>5x de 200,00</li>
                        <li>6x de 166,66</li>
                        <li>7x de 142,85</li>
                        <li>8x de 125,00</li>
                        <li>9x de 111.11</li>
                        <li>10x de 100.00</li>
                        <li>11x de 90,90</li>
                        <li>12x de 83,34</li>
                    </div>
                </div>
                <div class="pay">
                    <div>visa</div>
                    <div>
                        <li>1x de 1000,00</li>
                        <li>2x de 500,00</li>
                        <li>3x de 333,33</li>
                        <li>4x de 250,00</li>
                        <li>5x de 200,00</li>
                        <li>6x de 166,66</li>
                        <li>7x de 142,85</li>
                        <li>8x de 125,00</li>
                        <li>9x de 111.11</li>
                        <li>10x de 100.00</li>
                        <li>11x de 90,90</li>
                        <li>12x de 83,34</li>
                    </div>
                </div>
                <div class="pay">
                    <div>mastercard</div>
                    <div>
                        <li>1x de 1000,00</li>
                        <li>2x de 500,00</li>
                        <li>3x de 333,33</li>
                        <li>4x de 250,00</li>
                        <li>5x de 200,00</li>
                        <li>6x de 166,66</li>
                        <li>7x de 142,85</li>
                        <li>8x de 125,00</li>
                        <li>9x de 111.11</li>
                        <li>10x de 100.00</li>
                        <li>11x de 90,90</li>
                        <li>12x de 83,34</li>
                    </div>
                </div>
                <div class="pay">
                    <div>hipercard</div>
                    <div>
                        <li>1x de 1000,00</li>
                        <li>2x de 500,00</li>
                        <li>3x de 333,33</li>
                        <li>4x de 250,00</li>
                        <li>5x de 200,00</li>
                        <li>6x de 166,66</li>
                        <li>7x de 142,85</li>
                        <li>8x de 125,00</li>
                        <li>9x de 111.11</li>
                        <li>10x de 100.00</li>
                        <li>11x de 90,90</li>
                        <li>12x de 83,34</li>
                    </div>
                </div>

                </table>

            </div>
        </div>

        <div class="audit-item">
            <div class="audit-attr">
                Marketplace
            </div>
            <div class="audit-action">
                <form>
                    <input id="n" type="radio" name="a" value="no">
                    <label for="n">
                        <i class="glyphicon glyphicon-remove"></i>
                    </label>

                    <input id="y" type="radio" name="a" value="yes">
                    <label for="y">
                        <i class="glyphicon glyphicon-ok"></i>
                    </label>
                </form>

            </div>
            <div class="audit-value">
                Submarino Extra Americanas
            </div>
        </div>
    </div>

    <div>
        <button id="done" class="end btn btn-primary btn-block"> Concluir </button>
    </div>

    <script src="popup.js"></script>
    <script>

        var urls = [
            'https://www.submarino.com.br/produto/25404836?chave=prf_hm_oh_1_0_bff&pfm_carac=Mergulhe%20contra%20o%20tempo%21&pfm_index=0&pfm_page=home&pfm_pos=maintop3&pfm_type=vit_spacey',
            "https://www.americanas.com.br/categoria/celulares-e-smartphones?filtro=[{%22id%22:%22tag%22,%22value%22:%22tag_s7flat_acom%22}]&origem=omega&chave=prf_hm_0_oh_1_txar_bf17&hl=lower&pfm_carac=Nome%20da%20area&pfm_index=0&pfm_page=home&pfm_pos=maintop3&pfm_type=vit_spacey",
            'http://loja.paguemenos.com.br/nescau-nestle-prontinho-light-com-200ml-91268.aspx/p',
            'http://www.mambo.com.br/alimento-infantil-figado-legumes-macarrao-nestle-pote-115-120g/p',
            'http://loja.paguemenos.com.br/nutren-kids-baunilha-350g-269389.aspx/p',
            'https://www.bifarma.com.br//produto/composto-lacteo-nestle-ninho-fases-3-lata-400g-26029',
            'http://loja.paguemenos.com.br/nutren-senior-baunilha-370g-551939.aspx/p',
            'http://www.bifarma.com.br/produto/alimento-infantil-peito-de-frangocreme-milho-170gr-33625',
            'http://www.bifarma.com.br/leite-po-ninho-fases-1800g-gratis-100g/448472-01',
            'http://www.bifarma.com.br/fibermais-com-6-saches/362442-01',
            'https://www.bifarma.com.br//produto/papinha-nestle-strogonofinho-com-arroz-com-170g-52099',
            'https://www.bifarma.com.br//produto/nestle-nutren-kids-morango-complemento-alimentar-lata-350g-34185',
            'https://www.bifarma.com.br//produto/nutren-senior-em-po-sabor-baunilha-com-370g-46593',
            'https://www.bifarma.com.br/produto/papinha-infantil-nestle-carnelegumesmandioca-115g-11586',
            'http://delivery.supermuffato.com.br/cafe-soluvel-nescafe-matinal-50g-8496/p?idsku=8496',
            'http://delivery.supermuffato.com.br/cafe-soluvel-nescafe-matinal-200g-1763/p?idsku=1763',
            'https://www.zonasul.com.br/Produto/Cafe_Soluvel_Nescafe_Matinal_Vidro__100_g_--10389',
            'http://www.angeloni.com.br/super/produto?grupo=22010&idProduto=1313903',
            'http://www.angeloni.com.br/super/produto?grupo=22010&idProduto=1309286',
            'http://loja.paguemenos.com.br/nutren-active-baunilha-lata-400g-1007.aspx/p',
            'https://www.paodeacucar.com/produto/124080',
            'https://www.zonasul.com.br/Produto/Cafe_Soluvel_Nescafe_Matinal_Sache__50_g_--37305',
            'https://www.paodeacucar.com/produto/127421',
        ];


        var popup;
        link.onclick = function (e) {

            e.preventDefault();
            var url = e.target.getAttribute('href');

            goTo(url);
        };

        done.onclick = function(){

            goTo('wait.html');
            document.body.style.opacity = 0.5;

                setTimeout(() => {

                    document.querySelectorAll('.audit-item').forEach((div) => {
                        div.classList.remove('ok');
                        div.classList.remove('nope');
                    });
                    document.body.style.opacity = '';
                    
                    document.scrollingElement.scrollTop = 0;
                    
                    var next = urls.random();
                    link.href = next;
                    link.innerHTML = next;
                    
                    goTo(next);
                }, 1000);
                

        }
    
    
        function goTo(url) {
            if(popup===undefined || popup.window.closed){
                openPopup();
            }
            popup.window.location = url;
        }
        function openPopup(){
            popup = new Popup('wait.html', 'site', {
                minimizable: false,
                status: false,
                personalbar: false,
                location: false,
                toolbar: false,
                menubar: false,
                alwaysRaised: true,
                scrollbars: true,
                resizable: true,
                left: (window.screenLeft + window.outerWidth),
                top: 0,
                height: (window.screen.availHeight || window.screen.height),
                width: (window.screen.availWidth || window.screen.width) - (window.screenLeft + window.outerWidth),
            });

            if (popup.window) {
                console.log(popup);
            } else {
                alert('disable popup blocker');
            }
        }



        var ac = document.querySelectorAll('.audit-action');
        ac.forEach((div)=>{
            div.onclick=function(e){
                var btn = e.target.closest('button');
                var ok = (btn.getAttribute('name')==='ok')

                btn.closest('.audit-item').classList.toggle('ok', ok);
                btn.closest('.audit-item').classList.toggle('nope', !ok);
            }
        });







        
    </script>


</body>

</html>